{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"\u95dc\u65bc","text":"<p>\u6e2c\u8a66</p>"},{"location":"APCS/2021-11-p4.html","title":"\u8003\u9ede","text":"<p>dsu</p>"},{"location":"APCS/2021-11-p4.html#_2","title":"\u601d\u8def","text":"<p>\u6575\u4eba\u7684\u6575\u4eba\u662f\u670b\u53cb</p> <pre><code>#include &lt;bits/stdc++.h&gt;\n\nstruct Dsu {\n    std::vector&lt;int&gt; p;\n    Dsu(int n) : p(n, -1) {}\n\n    int rf(int x) {\n        if (p[x] &lt; 0) return x;\n        return p[x] = rf(p[x]);\n    }\n\n    void cb(int x, int y) {\n        x = rf(x);\n        y = rf(y);\n\n        if (x == y) return;\n        if (p[x] &gt; p[y]) std::swap(x, y);\n\n        p[x] += p[y];\n        p[y] = x;\n        return;\n    }\n\n    bool same(int x, int y) {\n        return rf(x) == rf(y);\n    }\n};\n\nint main() {\n    std::cin.tie(nullptr) -&gt; sync_with_stdio(false);\n\n    int n, m;\n    std::cin &gt;&gt; n &gt;&gt; m;\n\n    Dsu base(2 * n);\n\n    for (int i = 0; i &lt; m; i++) {\n        int a, b;\n        std::cin &gt;&gt; a &gt;&gt; b;\n        base.cb(a, b + n);\n        base.cb(b, a + n);\n    }\n\n    int p, k;\n    std::cin &gt;&gt; p &gt;&gt; k;\n\n    for (int i = 1; i &lt;= p; i++) {\n        bool can = true;\n        Dsu d = base;\n        for (int j = 0; j &lt; k; j++) {\n            int a, b;\n            std::cin &gt;&gt; a &gt;&gt; b;\n            if (d.same(a, b) || d.same(a + n, b + n)) {\n                can = false;\n            } else {\n                d.cb(a, b + n);\n                d.cb(b, a + n);\n            }\n        }\n        if (!can) std::cout &lt;&lt; i &lt;&lt; '\\n';\n    }\n    return 0;\n}\n</code></pre>"}]}